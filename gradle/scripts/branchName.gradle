tasks.register('checkBranchName') {
  doLast {
    if (!project.hasProperty('branchName')) {
      throw new GradleException("Error: Missing required property 'branchName'.")
    }

    def branchName = project.property('branchName')

    def pattern = /^[a-z]{2}\\/#[0-9]+(?:-.+)?$/
    if (!branchName.matches(pattern)) {
      throw new GradleException("Error: Check Branch name format (e.g., ps/#1337-FeatureName).")
    }

    println "Branch name is $branchName"
  }
}