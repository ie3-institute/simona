def docBaseDirPath = project.projectDir.toString() + File.separator + project.docsDirName.toString()

/*
 * Additional tasks, that are defined by default:
 *   - sphinx -> Generate HTML output of *.rst files in <projectDir>/docs/readthedocs
 */

/**
 * Configuring the sphinx plugin
 */
sphinx {
  description 'Generate high level HTML documentation output.'
  group 'Documentation'

  sourceDirectory = "${docBaseDirPath}/readthedocs"
  outputDirectory = (project.hasProperty('sphinxOutput')) ? project.getProperty('sphinxOutput') : "${project.buildDir}/docs/readthedocs"
}

/**
 * Task to generate the JavaDoc
 */
javadoc() {
  description 'Generates java API doc at the correct place.'
  group 'Documentation'

  source = sourceSets.main.allJava
  destinationDir = file(docBaseDirPath + 'javadoc')
  classpath = project.sourceSets.main.compileClasspath
}
